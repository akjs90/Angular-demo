<div class="row">
	<div class="col-xs-12">
		<form [formGroup]="recipeForm" (ngSubmit)="OnSubmit()">
			<div class="row">
				<div class="col-xs-12">
					<button type="Submit" class="btn btn-success" [disabled]="!recipeForm.valid">{{ editMode? 'Update': 'Save'}}</button>
					<button type="button" class="btn btn-danger" (click)="OnCancel()">Cancel</button>
				</div>
			</div>

			<div class="row">
				<div class="col-xs-12">
					<div class="form-group">
						<label for="name">Name</label>
						<input type="text" 
						class="form-control"
						formControlName="name">
					</div>
				</div>
			</div>


			<div class="row">
				<div class="col-xs-12">
					<div class="form-group">
						<label for="imagePath">Image URL</label>
						<input type="text" 
						class="form-control"
						formControlName="imagePath">
					</div>
				</div>
			</div>

			<div class="row" *ngIf="recipeForm.get('imagePath').value!=''">
				<div class="col-xs-12">
					<img class="img-responsive"
					style="height: 150px;" 
					[src]="recipeForm.get('imagePath').value">
				</div>
			</div>


			<div class="row">
				<div class="col-xs-12">
					<div class="form-group">
						<label for="description">Description</label>
						<textarea class="form-control" 
						rows="6"
						formControlName="description"></textarea>
					</div>	
				</div>
			</div>

			<div class="row" >

				<div class="col-xs-12" formArrayName="ingredients">
					<label for="ingredients">Ingredients</label>
					<div class="row"
					style="margin-bottom: 10px" 
					*ngFor="let ingredientCtrl of recipeForm.get('ingredients').controls; let i=index"
					[formGroupName]="i">
						<div class="col-xs-8">
							<input type="text" 
							class="form-control" 
							formControlName="name">
						</div>
						<div class="col-xs-2">
							<input type="number" 
							class="form-control"
							formControlName="amount">
						</div>
						<div class="col-xs-2">
							<button class="btn btn-danger" type="button"
							(click)="OnRemoveIngredient(i)">X</button>
						</div>
					</div>
				
					<button class="btn btn-primary" type="button" 
					(click)="OnAddIngredient()">Add Ingredient</button>
				</div>
			</div>

		</form>
	</div>
</div>